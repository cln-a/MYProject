<UserControl
    x:Class="Application.HailuBoard.PartsInfoEditView"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:controls="https://handyorg.github.io/handycontrol"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:i="http://schemas.microsoft.com/xaml/behaviors"
    xmlns:mah="http://metro.mahapps.com/winfx/xaml/controls"
    xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:prism="http://prismlibrary.com/"
    xmlns:vm="clr-namespace:Application.HailuBoard"
    d:DataContext="{d:DesignInstance vm:PartsInfoEditViewModel}"
    prism:ViewModelLocator.AutoWireViewModel="True"
    Background="White"
    FontFamily="Microsoft YaHei"
    TextElement.FontSize="16"
    TextElement.FontWeight="Regular"
    TextElement.Foreground="{DynamicResource MaterialDesignBody}"
    mc:Ignorable="d">
    <prism:Dialog.WindowStyle>
        <Style TargetType="Window">
            <Setter Property="prism:Dialog.WindowStartupLocation" Value="CenterScreen" />
            <Setter Property="ShowInTaskbar" Value="False" />
            <Setter Property="SizeToContent" Value="WidthAndHeight" />
            <Setter Property="WindowStyle" Value="None" />
            <Setter Property="ResizeMode" Value="NoResize" />
        </Style>
    </prism:Dialog.WindowStyle>
    <StackPanel>
        <controls:TransitioningContentControl Width="650" Height="550">
            <DockPanel>
                <TextBlock
                    Margin="0,5,0,0"
                    HorizontalAlignment="Center"
                    DockPanel.Dock="Top"
                    Style="{StaticResource TextBlockTitleBold}"
                    Text="{Binding Title}" />
                <Grid Margin="30,0,30,0">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="*" />
                    </Grid.RowDefinitions>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition />
                        <ColumnDefinition />
                    </Grid.ColumnDefinitions>
                    <controls:TextBox
                        Grid.Row="0"
                        Grid.Column="0"
                        Margin="5"
                        controls:InfoElement.Necessary="True"
                        controls:InfoElement.Title="批次号"
                        Text="{Binding Dto.BatchCode}" />
                    <controls:TextBox
                        Grid.Row="0"
                        Grid.Column="1"
                        Margin="5"
                        controls:InfoElement.Necessary="True"
                        controls:InfoElement.Title="名称"
                        Text="{Binding Dto.Name}" />
                    <controls:TextBox
                        Grid.Row="1"
                        Grid.Column="0"
                        Margin="5"
                        controls:InfoElement.Necessary="True"
                        controls:InfoElement.Title="长度"
                        Text="{Binding Dto.Length}" />
                    <controls:TextBox
                        Grid.Row="1"
                        Grid.Column="1"
                        Margin="5"
                        controls:InfoElement.Necessary="True"
                        controls:InfoElement.Title="宽度"
                        Text="{Binding Dto.Width1}" />
                    <controls:TextBox
                        Grid.Row="2"
                        Grid.Column="0"
                        Margin="5"
                        controls:InfoElement.Necessary="True"
                        controls:InfoElement.Title="厚度"
                        Text="{Binding Dto.Thickness}" />
                    <Grid
                        Grid.Row="2"
                        Grid.Column="2"
                        Margin="5">
                        <Grid.RowDefinitions>
                            <RowDefinition />
                            <RowDefinition />
                        </Grid.RowDefinitions>
                        <TextBlock FontSize="13">是否需要铣刀</TextBlock>
                        <ToggleButton
                            x:Name="MCToggleButton"
                            Grid.Row="2"
                            Margin="0,10,0,0"
                            HorizontalAlignment="Left"
                            VerticalAlignment="Center"
                            controls:InfoElement.Title="是否启用"
                            IsChecked="{Binding Dto.McOrNot}"
                            Style="{StaticResource ToggleButtonSwitch}" />
                    </Grid>
                    <controls:TextBox
                        Grid.Row="3"
                        Grid.Column="0"
                        Margin="5"
                        controls:InfoElement.Title="右侧铣刀长度"
                        IsEnabled="{Binding ElementName=MCToggleButton, Path=IsChecked}"
                        Text="{Binding Dto.HoleLengthRight}" />
                    <controls:TextBox
                        Grid.Row="3"
                        Grid.Column="1"
                        Margin="5"
                        controls:InfoElement.Title="右侧铣刀距离底部距离"
                        IsEnabled="{Binding ElementName=MCToggleButton, Path=IsChecked}"
                        Text="{Binding Dto.HoleDistanceRight}" />
                    <controls:TextBox
                        Grid.Row="4"
                        Grid.Column="0"
                        Margin="5"
                        controls:InfoElement.Title="中间铣刀长度"
                        IsEnabled="{Binding ElementName=MCToggleButton, Path=IsChecked}"
                        Text="{Binding Dto.HoleLengthMiddle}" />
                    <controls:TextBox
                        Grid.Row="4"
                        Grid.Column="1"
                        Margin="5"
                        controls:InfoElement.Title="中间铣刀距离底部距离"
                        IsEnabled="{Binding ElementName=MCToggleButton, Path=IsChecked}"
                        Text="{Binding Dto.HoleDistanceMiddle}" />
                    <controls:TextBox
                        Grid.Row="5"
                        Grid.Column="0"
                        Margin="5"
                        controls:InfoElement.Title="左侧铣刀长度"
                        IsEnabled="{Binding ElementName=MCToggleButton, Path=IsChecked}"
                        Text="{Binding Dto.HoleLengthLeft}" />
                    <controls:TextBox
                        Grid.Row="5"
                        Grid.Column="1"
                        Margin="5"
                        controls:InfoElement.Title="左侧铣刀距离底部距离"
                        IsEnabled="{Binding ElementName=MCToggleButton, Path=IsChecked}"
                        Text="{Binding Dto.HoleDistanceLeft}" />
                    <controls:TextBox
                        Grid.Row="6"
                        Grid.Column="0"
                        Margin="5"
                        controls:InfoElement.Necessary="True"
                        controls:InfoElement.Title="数量"
                        Text="{Binding Dto.Quautity}" />
                    <Button
                        Grid.Row="7"
                        Width="200"
                        Height="30"
                        Margin="0,22,0,0"
                        HorizontalAlignment="Center"
                        materialDesign:ButtonProgressAssist.IsIndeterminate="True"
                        materialDesign:ButtonProgressAssist.IsIndicatorVisible="True"
                        materialDesign:ButtonProgressAssist.Value="-1"
                        Background="Red"
                        Command="{Binding CancelCommand}"
                        Content="取消"
                        Style="{StaticResource MaterialDesignRaisedButton}" />
                    <Button
                        Grid.Row="7"
                        Grid.Column="1"
                        Width="200"
                        Height="30"
                        Margin="0,22,0,0"
                        HorizontalAlignment="Center"
                        materialDesign:ButtonProgressAssist.IsIndeterminate="True"
                        materialDesign:ButtonProgressAssist.IsIndicatorVisible="True"
                        materialDesign:ButtonProgressAssist.Value="-1"
                        Background="ForestGreen"
                        Command="{Binding SubmitCommand}"
                        CommandParameter="{Binding Dto}"
                        Content="确认"
                        IsEnabled="{Binding Dto.IsChecked}"
                        Style="{StaticResource MaterialDesignRaisedButton}" />
                </Grid>
            </DockPanel>
        </controls:TransitioningContentControl>
    </StackPanel>
</UserControl>
